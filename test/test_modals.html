<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>拽转  - Pool Israel</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/admin.css">
    <style>
        body {
            padding: 20px;
            background: #f5f5f5;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .test-button {
            margin: 10px;
            padding: 15px 25px;
            font-size: 1rem;
        }
        .test-section {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        .test-section h2 {
            color: #007cba;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>И 拽转  驻驻驻 - Pool Israel</h1>
        <p>祝  注 拽转 驻拽爪转  砖 注专转 .</p>
        
        <div class="test-section">
            <h2>  砖 住住</h2>
            <button class="btn btn-primary test-button" onclick="testPasswordModal()">
                <i class="fas fa-key"></i>
                拽  砖 住住
            </button>
        </div>
        
        <div class="test-section">
            <h2>  拽</h2>
            <button class="btn btn-success test-button" onclick="testContractorAddModal()">
                <i class="fas fa-plus"></i>
                拽 住驻转 拽
            </button>
            <button class="btn btn-primary test-button" onclick="testContractorEditModal()">
                <i class="fas fa-edit"></i>
                拽 注专转 拽
            </button>
        </div>
        
        <div class="test-section">
            <h2>  拽砖转 爪注转 专</h2>
            <button class="btn btn-primary test-button" onclick="testQuoteEditModal()">
                <i class="fas fa-file-invoice"></i>
                拽 注专转 拽砖
            </button>
        </div>
        
        <div class="test-section">
            <h2>  砖转砖</h2>
            <button class="btn btn-success test-button" onclick="testUserAddModal()">
                <i class="fas fa-user-plus"></i>
                拽 住驻转 砖转砖
            </button>
            <button class="btn btn-primary test-button" onclick="testUserEditModal()">
                <i class="fas fa-user-edit"></i>
                拽 注专转 砖转砖
            </button>
        </div>
        
        <div class="test-section">
            <h2> 拽转 注爪</h2>
            <button class="btn btn-warning test-button" onclick="testModalStyles()">
                <i class="fas fa-palette"></i>
                拽 住
            </button>
            <button class="btn btn-info test-button" onclick="testResponsive()">
                <i class="fas fa-mobile-alt"></i>
                拽 转转转
            </button>
        </div>
        
        <div class="test-section">
            <h2> 专转 拽</h2>
            <ul style="text-align: right; line-height: 1.8;">
                <li>抓 注  驻转专 拽 砖 驻转 专 住</li>
                <li>拽 砖转 住专 转  爪 注 X  注 专拽注</li>
                <li>拽 砖拽砖 ESC 住专 转 </li>
                <li>拽 砖驻住 爪  砖</li>
                <li>拽 转转转 砖专 砖</li>
                <li>拽 砖爪转 注转 拽</li>
            </ul>
        </div>
    </div>

    <script src="js/admin.js"></script>
    <script>
        // Initialize admin panel for testing
        const adminPanel = new AdminPanel();
        
        // Test functions
        function testPasswordModal() {
            adminPanel.showChangePasswordModal();
        }
        
        function testContractorAddModal() {
            adminPanel.showContractorEditModal(null);
        }
        
        function testContractorEditModal() {
            // Mock contractor data for testing
            const mockContractor = {
                id: 1,
                title: '拽 拽',
                phone: '050-1234567',
                email: 'test@example.com',
                city: '转 ',
                description: ' 拽 拽',
                rating: 5,
                latitude: 32.0853,
                longitude: 34.7818
            };
            
            // Override the fetch for testing
            const originalFetch = window.fetch;
            window.fetch = async (url) => {
                if (url.includes('get_contractor')) {
                    return {
                        json: async () => ({
                            success: true,
                            contractor: mockContractor
                        })
                    };
                }
                return originalFetch(url);
            };
            
            adminPanel.showContractorEditModal(1);
            
            // Restore original fetch after a delay
            setTimeout(() => {
                window.fetch = originalFetch;
            }, 1000);
        }
        
        function testQuoteEditModal() {
            // Mock quote data for testing
            const mockQuote = {
                id: 1,
                customer_name: '拽 拽',
                customer_phone: '050-9876543',
                customer_email: 'customer@example.com',
                customer_city: '驻',
                pool_type: 'concrete',
                pool_size: 'medium',
                budget_range: '100000-200000',
                status: 'pending',
                project_location: '驻, 砖专',
                description: '拽砖 转 专'
            };
            
            // Override the fetch for testing
            const originalFetch = window.fetch;
            window.fetch = async (url) => {
                if (url.includes('get_quote')) {
                    return {
                        json: async () => ({
                            success: true,
                            quote: mockQuote
                        })
                    };
                }
                return originalFetch(url);
            };
            
            adminPanel.showQuoteEditModal(1);
            
            // Restore original fetch after a delay
            setTimeout(() => {
                window.fetch = originalFetch;
            }, 1000);
        }
        
        function testUserAddModal() {
            adminPanel.showUserEditModal(null);
        }
        
        function testUserEditModal() {
            // Mock user data for testing
            const mockUser = {
                id: 1,
                username: 'testuser',
                email: 'user@example.com',
                role: 'user',
                status: 'active',
                phone: '050-5555555',
                city: '专砖',
                notes: '砖转砖 拽'
            };
            
            // Override the fetch for testing
            const originalFetch = window.fetch;
            window.fetch = async (url) => {
                if (url.includes('get_user')) {
                    return {
                        json: async () => ({
                            success: true,
                            user: mockUser
                        })
                    };
                }
                return originalFetch(url);
            };
            
            adminPanel.showUserEditModal(1);
            
            // Restore original fetch after a delay
            setTimeout(() => {
                window.fetch = originalFetch;
            }, 1000);
        }
        
        function testModalStyles() {
            const testContent = `
                <div style="padding: 20px; text-align: center;">
                    <h3> 拽转 住</h3>
                    <p>  拽转 注爪 住</p>
                    <div style="margin: 20px 0;">
                        <button class="btn btn-primary" style="margin: 5px;">驻转专 专砖</button>
                        <button class="btn btn-secondary" style="margin: 5px;">驻转专 砖</button>
                        <button class="btn btn-success" style="margin: 5px;">驻转专 爪</button>
                        <button class="btn btn-danger" style="margin: 5px;">驻转专 住</button>
                    </div>
                    <div class="form-group">
                        <label>砖 拽住 拽:</label>
                        <input type="text" placeholder="住 拽住 ...">
                    </div>
                </div>
            `;
            
            adminPanel.showModal('styleTestModal', '拽转 住', testContent);
        }
        
        function testResponsive() {
            alert('拽转 转转转:\n1. 砖 转  \n2. 驻转  驻转 (F12)\n3. 注专 爪 砖专 \n4. 拽 砖 转  砖');
        }
    </script>
</body>
</html>
